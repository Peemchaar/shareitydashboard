import{M as V,a as u,r as h,G as f,o as C,c as x,w as o,b as l,g as n,e as w,d as y,I as k}from"./index.ec32f494.js";import{G as $}from"./mdi.f693eecd.js";import{_ as M}from"./NavBar.59cebfca.js";import{_ as S}from"./CardBox.173aa79f.js";import{_ as d}from"./FormField.c48798ca.js";import{_ as c}from"./FormControl.280616cf.js";import{_}from"./BaseButton.674e3c10.js";import{_ as U}from"./BaseButtons.2d2440b4.js";import{_ as j}from"./LayoutAuthenticated.0a6b42a9.js";import{_ as p}from"./FormCheckRadio.b41aa598.js";/* empty css             */import"./vue-datepicker.1260500d.js";import{C as B}from"./ChallengeController.9b8120ad.js";import{S as E}from"./ServerCall.7354e88a.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./BaseIcon.dec28c75.js";import"./colors.dcae2bc6.js";import"./LoginController.9d60cd79.js";const L={sendComunity:async m=>{let r=m.challenge.id;delete m.challenge;try{const s=await E.post("/user-challenge/community-message/"+r,m);return console.log("response send-comunity:",s.data),s.data}catch(s){throw s}}},N={class:"flex justify-between pb-5"},A={class:"flex gap-2 items-center"},G=n("p",{class:"lg:text-xl text-lg"},"Comunity Message",-1),T={class:"gap-3"},D={class:"flex flex-col md:flex-row gap-5"},I=n("p",{class:"text-lg italic font-bold"},"Mensaje Enviado",-1),te={__name:"ComunityMessageView",setup(m){V(()=>{B.getAll().then(i=>{i.forEach(e=>{r.value.push({id:e.id,label:e.name})})})});const r=u([]),s=u(!1),a=h({challenge:r[0],message:"",test:!0,link:!1}),g=()=>{L.sendComunity(a).then(i=>{s.value=!0,a.message=""})};return(i,e)=>{const v=f("v-btn"),b=f("v-snackbar");return C(),x(j,null,{default:o(()=>[l(M,null,{default:o(()=>[n("div",N,[n("div",A,[l(_,{icon:w($),to:"/dashboard",color:"info","rounded-full":"",small:""},null,8,["icon"]),G])]),l(S,{"is-form":"",class:"col-span-3",onSubmit:y(g,["prevent"])},{footer:o(()=>[l(U,{class:"justify-end"},{default:o(()=>[l(_,{color:"info",type:"submit",label:"Save"})]),_:1})]),default:o(()=>[n("div",T,[l(d,{label:"Challenge"},{default:o(()=>[l(c,{modelValue:a.challenge,"onUpdate:modelValue":e[0]||(e[0]=t=>a.challenge=t),value:"Select challenge",options:r.value},null,8,["modelValue","options"])]),_:1}),l(d,null,{default:o(()=>[n("div",D,[l(p,{label:"Test Message?",modelValue:a.test,"onUpdate:modelValue":e[1]||(e[1]=t=>a.test=t)},null,8,["modelValue"]),l(p,{label:"Sen Challenge Link?",modelValue:a.link,"onUpdate:modelValue":e[2]||(e[2]=t=>a.link=t)},null,8,["modelValue"])])]),_:1}),l(d,{label:"Message"},{default:o(()=>[l(c,{textarea:"",modelValue:a.message,"onUpdate:modelValue":e[3]||(e[3]=t=>a.message=t)},null,8,["modelValue"])]),_:1})])]),_:1},8,["onSubmit"]),l(b,{modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value=t),timeout:3e3,color:"green"},{actions:o(()=>[l(v,{color:"white",variant:"text",onClick:e[4]||(e[4]=t=>s.value=!1)},{default:o(()=>[k(" Close ")]),_:1})]),default:o(()=>[I]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{te as default};
