import{G as L,f as M}from"./mdi.f693eecd.js";import{_ as O}from"./NavBar.59cebfca.js";import{_ as R}from"./CardBox.173aa79f.js";import{_ as v}from"./BaseButton.674e3c10.js";import{_ as q}from"./LayoutAuthenticated.0a6b42a9.js";import{S}from"./SponsorController.4f392fe6.js";import{a as d,u as z,i as K,M as P,K as W,G as r,o as n,c as i,w as e,b as o,I as u,g as a,e as h,f as H,z as J,F as Q,t as X,h as w,N as Y,O as Z}from"./index.ec32f494.js";import{u as ee}from"./ServerCall.7354e88a.js";import{_ as te}from"./FormField.c48798ca.js";import{_ as oe}from"./FormControl.280616cf.js";import{_ as se}from"./_plugin-vue_export-helper.cdc0426e.js";import"./colors.dcae2bc6.js";import"./BaseIcon.dec28c75.js";import"./LoginController.9d60cd79.js";const y=m=>(Y("data-v-359cfe70"),m=m(),Z(),m),ae=y(()=>a("b",null,"Activate",-1)),le=y(()=>a("b",null,"Deactivate",-1)),ne={class:"flex justify-between pb-5"},ce={class:"flex gap-2 items-center"},re=y(()=>a("p",{class:"lg:text-xl text-lg"},"Sponsors",-1)),ie={class:"flex gap-2 items-center edit-search"},ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},de={class:"flex justify-between mb-2"},_e={class:"font-extrabold text-lg"},me={class:"flex grid-cols-3"},pe=["src"],fe={__name:"SponsorsView",setup(m){const C="https://chgsdev.shareity.com/",V=ee(),p=d([]),A=z(),g=d(),$=d(Boolean),_=d(!1),c=d({}),B=K(()=>D()),x=d("");P(()=>{S.getAll().then(l=>{p.value=l})});function D(){return p.value.filter(l=>l.name.includes(x.value))}W(async()=>{$.value=!0,g.value=V.getUserRole()});function I(l){A.push({name:"create-sponsor",query:{id:l}})}async function N(){console.log("sponsorId.value",c.value,!c.value.status);const l=c.value.id;console.log("id",l);const s=await S.update(l,{status:c.value.status?1:0});console.log("response",s);const f=p.value.indexOf(c.value);p.value[f].status=s.status,_.value=!1}return(l,s)=>{const f=r("v-card-title"),b=r("v-card-text"),E=r("v-spacer"),k=r("v-btn"),T=r("v-card-actions"),U=r("v-card"),j=r("v-dialog"),F=r("CardBoxComponentTitle");return n(),i(q,null,{default:e(()=>[o(O,null,{default:e(()=>[o(j,{modelValue:_.value,"onUpdate:modelValue":s[2]||(s[2]=t=>_.value=t),width:"auto"},{default:e(()=>[o(U,null,{default:e(()=>[c.value.status?(n(),i(f,{key:0,class:"text-h5"},{default:e(()=>[u(" Activate Sponsor? ")]),_:1})):(n(),i(f,{key:1,class:"text-h5"},{default:e(()=>[u(" Deactivate Sponsor? ")]),_:1})),c.value.status?(n(),i(b,{key:2},{default:e(()=>[u("Are you sure you want to "),ae,u(" this sponsor?")]),_:1})):(n(),i(b,{key:3},{default:e(()=>[u("Are you sure you want to "),le,u(" this sponsor?")]),_:1})),o(T,null,{default:e(()=>[o(E),o(k,{color:"green-darken-1",variant:"text",onClick:s[0]||(s[0]=t=>_.value=!1)},{default:e(()=>[u(" Disagree ")]),_:1}),o(k,{color:"red",variant:"text",onClick:s[1]||(s[1]=t=>N())},{default:e(()=>[u(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a("div",ne,[a("div",ce,[o(v,{to:"/dashboard",icon:h(L),color:"info","rounded-full":"",small:""},null,8,["icon"]),re]),a("div",ie,[o(te,null,{default:e(()=>[o(oe,{modelValue:x.value,"onUpdate:modelValue":s[3]||(s[3]=t=>x.value=t),icon:l.mdiAccountBox,value:"Search"},null,8,["modelValue","icon"])]),_:1}),o(v,{class:"mr-5",label:"Add Sponsor",color:"info",icon:h(M),to:"/create-sponsor"},null,8,["icon"])])]),a("div",ue,[(n(!0),H(Q,null,J(B.value,t=>(n(),i(R,{key:t.id},{default:e(()=>[o(F,{title:"With title & icon"},{default:e(()=>[a("div",de,[a("p",_e,X(t.name),1)])]),_:2},1024),a("div",me,[a("img",{class:"col-span-1 mr-3",src:h(C)+t.logo,style:{height:"64px",width:"64px"}},null,8,pe)]),g.value==="admin"?(n(),i(v,{key:0,class:"mt-3 text-lg font-bold italic mr-2",small:"",label:t.status?"Deactivate":"Activate",color:t.status?"danger":"info",onClick:G=>{_.value=!0,c.value=t}},null,8,["label","color","onClick"])):w("",!0),g.value==="admin"?(n(),i(v,{key:1,class:"mt-3 text-lg font-bold italic",small:"",label:"Edit",color:"success",onClick:G=>I(t.id)},null,8,["onClick"])):w("",!0)]),_:2},1024))),128))])]),_:1})]),_:1})}}},De=se(fe,[["__scopeId","data-v-359cfe70"]]);export{De as default};
