import{G,f as L}from"./mdi.f693eecd.js";import{_ as M}from"./NavBar.59cebfca.js";import{_ as R}from"./CardBox.173aa79f.js";import{_ as f}from"./BaseButton.674e3c10.js";import{_ as q}from"./LayoutAuthenticated.0a6b42a9.js";import{O as k}from"./OrganizationController.cf89c48d.js";import{a as d,i as K,M as P,K as W,u as H,G as c,o as n,c as i,w as e,b as o,I as r,g as s,e as h,f as J,z as Q,F as X,t as w,h as V,N as Y,O as Z}from"./index.ec32f494.js";import{u as tt}from"./ServerCall.7354e88a.js";import{_ as et}from"./FormField.c48798ca.js";import{_ as ot}from"./FormControl.280616cf.js";import{_ as st}from"./_plugin-vue_export-helper.cdc0426e.js";import"./colors.dcae2bc6.js";import"./BaseIcon.dec28c75.js";import"./LoginController.9d60cd79.js";const x=m=>(Y("data-v-74226f02"),m=m(),Z(),m),at=x(()=>s("b",null,"Activate",-1)),lt=x(()=>s("b",null,"Deactivate",-1)),nt={class:"flex justify-between pb-5"},ct={class:"flex gap-2 items-center"},it=x(()=>s("p",{class:"lg:text-xl text-lg"},"Causes",-1)),rt={class:"flex gap-2 items-center edit-search"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},dt={class:"flex justify-between mb-2"},_t={class:"font-extrabold text-lg"},mt={class:"grid grid-cols-3"},pt=["src"],ft={class:"text-sm font-light col-span-2 line-clamp-4"},vt={__name:"CausesView",setup(m){const A="https://chgsdev.shareity.com/",$=tt(),y=d([]),u=d({}),_=d(!1),B=d(Boolean),v=d(),S=K(()=>D()),g=d("");function D(){return y.value.filter(l=>l.name.includes(g.value))}P(()=>{k.getAll().then(l=>{y.value=l})}),W(async()=>{B.value=!0,v.value=$.getUserRole()});const I=H();function N(l){I.push({name:"create-cause",query:{id:l}})}async function E(){const l=u.value.id,a=await k.update(l,{status:u.value.status?1:0}),p=sponsors.value.indexOf(u.value);sponsors.value[p].status=a.status,_.value=!1}return(l,a)=>{const p=c("v-card-title"),C=c("v-card-text"),O=c("v-spacer"),b=c("v-btn"),T=c("v-card-actions"),U=c("v-card"),j=c("v-dialog"),z=c("CardBoxComponentTitle");return n(),i(q,null,{default:e(()=>[o(M,null,{default:e(()=>[o(j,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=t=>_.value=t),width:"auto"},{default:e(()=>[o(U,null,{default:e(()=>[u.value.status?(n(),i(p,{key:0,class:"text-h5"},{default:e(()=>[r(" Activate Sponsor? ")]),_:1})):(n(),i(p,{key:1,class:"text-h5"},{default:e(()=>[r(" Deactivate Sponsor? ")]),_:1})),u.value.status?(n(),i(C,{key:2},{default:e(()=>[r("Are you sure you want to "),at,r(" this sponsor?")]),_:1})):(n(),i(C,{key:3},{default:e(()=>[r("Are you sure you want to "),lt,r(" this sponsor?")]),_:1})),o(T,null,{default:e(()=>[o(O),o(b,{color:"green-darken-1",variant:"text",onClick:a[0]||(a[0]=t=>_.value=!1)},{default:e(()=>[r(" Disagree ")]),_:1}),o(b,{color:"red",variant:"text",onClick:a[1]||(a[1]=t=>E())},{default:e(()=>[r(" Agree ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",nt,[s("div",ct,[o(f,{to:"/dashboard",icon:h(G),color:"info","rounded-full":"",small:""},null,8,["icon"]),it]),s("div",rt,[o(et,null,{default:e(()=>[o(ot,{modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=t=>g.value=t),icon:l.mdiAccountBox,value:"Search"},null,8,["modelValue","icon"])]),_:1}),o(f,{class:"mr-5",label:"Add Cause",color:"info",icon:h(L),to:"/create-cause"},null,8,["icon"])])]),s("div",ut,[(n(!0),J(X,null,Q(S.value,t=>(n(),i(R,{class:"max-h-52",key:t.id},{default:e(()=>[o(z,{title:"With title & icon"},{default:e(()=>[s("div",dt,[s("p",_t,w(t.name),1)])]),_:2},1024),s("div",mt,[s("img",{class:"col-span-1 mr-3",src:h(A)+t.logo,style:{height:"64px",width:"64px"}},null,8,pt),s("p",ft,w(t.description),1)]),v.value==="admin"?(n(),i(f,{key:0,class:"mt-3 text-lg font-bold italic mr-2",small:"",label:t.status?"Deactivate":"Activate",color:t.status?"danger":"info",onClick:F=>{_.value=!0,u.value=t}},null,8,["label","color","onClick"])):V("",!0),v.value==="admin"?(n(),i(f,{key:1,class:"mt-3 text-lg font-bold italic",small:"",label:"Edit",color:"success",onClick:F=>N(t.id)},null,8,["onClick"])):V("",!0)]),_:2},1024))),128))])]),_:1})]),_:1})}}},It=st(vt,[["__scopeId","data-v-74226f02"]]);export{It as default};
