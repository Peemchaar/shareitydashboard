import{P as L,a as g,r as v,M as $,G as b,o as h,c as E,w as t,b as o,g as d,e as m,t as V,d as k,I as q}from"./index.ec32f494.js";import{G as B,c as M,m as O,R as y}from"./mdi.f693eecd.js";import{_ as A}from"./NavBar.59cebfca.js";import{_ as J}from"./CardBox.173aa79f.js";import{_ as p}from"./FormField.c48798ca.js";import{_ as c}from"./FormControl.280616cf.js";import{_ as P}from"./FormFilePicker.184d08bb.js";import{_ as S}from"./BaseButton.674e3c10.js";import{_ as j}from"./BaseButtons.2d2440b4.js";import{_ as D}from"./LayoutAuthenticated.0a6b42a9.js";/* empty css             */import{S as f}from"./SponsorController.4f392fe6.js";import{U as G}from"./utilityMethods.670eb443.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./BaseIcon.dec28c75.js";import"./colors.dcae2bc6.js";import"./ServerCall.7354e88a.js";import"./LoginController.9d60cd79.js";const I={class:"flex justify-between pb-5"},R={class:"flex gap-2 items-center"},z={class:"font-extrabold"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},T={class:"text-lg italic font-bold"},pe={__name:"CreateSponsorView",setup(H){const u=L(),_="https://chgsdev.shareity.com/",n=g(!1),r=g(),s=v({name:"",personEmail:"",personName:"",personLastname:"",logo:"",status:!1}),i=v({color:"green",message:""}),C=u.query.id?"Edit":"Create",N=a=>{r.value=a};$(()=>{f.getById(u.query.id).then(a=>{s.name=a.name,s.personEmail=a.personEmail,s.personName=a.personName,s.personLastname=a.personLastname,r.value=_+a.logo})},[u.query.id]);const w=async()=>{if(typeof r.value!="string"){let a=await G.verifyMedia(r.value,"sponsors");r.value=_+a,s.logo=a}if(u.query.id){let a=JSON.parse(JSON.stringify(s));f.update(u.query.id,a).then(e=>{e.statusCode==200?(n.value=!0,i.message="Sponsor Updated"):(n.value=!0,i.message=e.message[0])})}else{let a=JSON.parse(JSON.stringify(s));console.log("inp",a),f.create(a).then(e=>{e.statusCode==200?(n.value=!0,i.message="Sponsor Created"):(n.value=!0,i.message=e.message[0])})}};return(a,e)=>{const x=b("v-btn"),U=b("v-snackbar");return h(),E(D,null,{default:t(()=>[o(A,null,{default:t(()=>[d("div",I,[d("div",R,[o(S,{to:"/sponsors",icon:m(B),color:"info","rounded-full":"",small:""},null,8,["icon"]),d("p",z,V(m(C))+" Sponsor",1)])]),o(J,{"is-form":"",class:"col-span-3",onSubmit:k(w,["prevent"])},{footer:t(()=>[o(j,{class:"justify-end"},{default:t(()=>[o(S,{color:"info",type:"submit",label:"Save"})]),_:1})]),default:t(()=>[d("div",F,[o(p,{label:"Organization Name"},{default:t(()=>[o(c,{modelValue:s.name,"onUpdate:modelValue":e[0]||(e[0]=l=>s.name=l),icon:m(M),required:""},null,8,["modelValue","icon"])]),_:1}),o(p,{label:"Contact Person Email"},{default:t(()=>[o(c,{modelValue:s.personEmail,"onUpdate:modelValue":e[1]||(e[1]=l=>s.personEmail=l),icon:m(O),type:"email",name:"email",required:"",autocomplete:"email",label:"data"},null,8,["modelValue","icon"])]),_:1}),o(p,{label:"Contact Person First Name"},{default:t(()=>[o(c,{modelValue:s.personName,"onUpdate:modelValue":e[2]||(e[2]=l=>s.personName=l),icon:m(y)},null,8,["modelValue","icon"])]),_:1}),o(p,{label:"Contact Person Last Name"},{default:t(()=>[o(c,{modelValue:s.personLastname,"onUpdate:modelValue":e[3]||(e[3]=l=>s.personLastname=l),icon:m(y)},null,8,["modelValue","icon"])]),_:1}),o(p,{label:"Select Sponsor Logo"},{default:t(()=>[o(P,{modelValue:r.value,"onUpdate:modelValue":N,label:"Upload",mediaClass:"w-52 h-52"},null,8,["modelValue"])]),_:1})])]),_:1},8,["onSubmit"]),o(U,{modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),timeout:3e3,color:i.color},{actions:t(()=>[o(x,{color:"white",variant:"text",onClick:e[4]||(e[4]=l=>n.value=!1)},{default:t(()=>[q(" Close ")]),_:1})]),default:t(()=>[d("p",T,V(i.message),1)]),_:1},8,["modelValue","color"])]),_:1})]),_:1})}}};export{pe as default};
