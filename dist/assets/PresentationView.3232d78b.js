import{j,G as g,o as h,f as m,b as s,w as t,g as e,I as b,k as V,n as E,e as u,P as U,a as r,M as B,c as L,t as d,F,z as M,h as P}from"./index.ec32f494.js";import{_ as y}from"./CardBox.173aa79f.js";import"./BaseButtons.2d2440b4.js";import{a as I}from"./colors.dcae2bc6.js";import{a as A,_ as C}from"./NavBar.59cebfca.js";import"https://cdn.socket.io/4.4.1/socket.io.esm.min.js";import{C as k}from"./ChallengeController.9b8120ad.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./ServerCall.7354e88a.js";const G="/assets/shareity-letras.c7abb907.png",O={class:"flex w-full items-center justify-between"},R=e("img",{src:G,alt:"Letras",class:"h-11"},null,-1),T={class:"flex flex-row gap-5"},q={class:"font-bold hover:text-white hover:bg-sky-400 rounded-lg px-3 py-2"},z={class:"font-bold hover:text-white hover:bg-sky-400 rounded-lg px-3 py-2"},D={__name:"LayoutSpecial",setup($){return j(),(c,p)=>{const l=g("RouterLink");return h(),m("div",{class:E(["min-h-screen items-center pt-14 justify-center",u(I)])},[s(A,null,{default:t(()=>[e("div",O,[s(l,{to:"dashboard"},{default:t(()=>[R]),_:1}),e("div",null,[e("ul",T,[e("li",q,[s(l,{to:"campaigns"},{default:t(()=>[b("CAMPAIGNS")]),_:1})]),e("li",z,[s(l,{to:"comunity-message"},{default:t(()=>[b("COMUNITY MESSAGE")]),_:1})])])])])]),_:1}),V(c.$slots,"default")],2)}}},J={key:0,class:"grid grid-cols-1 justify-items-center"},W={class:"flex items-center"},Y={class:"rounded-lg shadow-md"},H=["src"],K={class:"flex flex-col ml-5 gap-3"},Q={class:"font-extrabold text-4xl"},X={class:"text-lg font-light pr-10"},Z={class:"col-span-1 min-w-full"},ee=e("p",{class:"text-center text-gray-600 mb-6 text-4xl font-extrabold"}," LIVE FEED ",-1),te={class:"overflow-y-auto h-[74vh] content-center"},se={class:"flex flex-col ml-[20%] justify-between w-3/5 rounded-lg shadow-xl"},le={class:"flex bg-blue-800 rounded-t-lg p-3"},oe=e("div",{class:"rounded-full w-14 h-12 bg-red-200 mr-3"},null,-1),ae={class:"flex w-full flex-col"},ne={class:"text-white text-lg font-bold"},ce={class:"flex w-full justify-between"},ie={class:"flex flex-col text-left"},re={class:"text-white text-md"},de=e("b",null,"Points:",-1),ue={class:"text-blue-300"},_e={class:"flex items-center justify-center rounded-b-xl"},fe=["poster","src"],he={class:"grid grid-cols-2 gap-4 mt-5"},ve={class:"flex bg-blue-800 rounded-t-lg p-3"},me=e("div",{class:"rounded-full w-14 h-12 bg-red-200 mr-3"},null,-1),pe={class:"flex w-full flex-col"},xe={class:"text-white text-lg font-bold"},ge={class:"flex w-full justify-between"},be={class:"flex flex-col text-left"},we={class:"text-white text-xs"},ye=e("b",null,"Points:",-1),Ce={class:"text-blue-300"},ke={class:"flex justify-center items-center"},$e=["poster","src"],Ne=e("p",{class:"text-xl italic font-bold"},"New Challenge has been added",-1),Pe={__name:"PresentationView",setup($){const c="https://chgsdev.shareity.com/",p=U(),l=r({name:"hola"}),v=r([]),i=r(),_=r([]),x=r(),f=r(!1);B(()=>{k.getChallenges(p.query.id).then(o=>{console.log("data",o),l.value=o,v.value=o.userChallenges,_.value=o.userChallenges.filter(a=>a.user.firstName!=="Unknown"),i.value=_.value.shift(),x.value=JSON.parse(JSON.stringify(v.value[0].id))})},[p.query.id]);function w(){console.log("last",x.value),k.getChallengesUpdate(x.value).then(o=>{console.log("data-2",o),o.length>=1&&(f.value=!0,v.value.unshift(o),_.value=v.value.filter(a=>a.user.firstName!=="Unknown"),i.value=_.value.shift(),f.value=!0)}),setTimeout(w,3e4)}return w(),(o,a)=>{const N=g("v-btn"),S=g("v-snackbar");return h(),L(D,null,{default:t(()=>[l.value.badge?(h(),m("div",J,[s(C,{class:"col-span-1"},{default:t(()=>[s(y,null,{default:t(()=>[e("div",W,[e("div",Y,[e("img",{class:"w-28",src:u(c)+l.value.badge,alt:""},null,8,H)]),e("div",K,[e("p",Q,d(l.value.name),1),e("p",X,d(l.value.description),1)])])]),_:1})]),_:1}),e("div",Z,[s(C,null,{default:t(()=>[s(y,null,{default:t(()=>[ee,e("div",te,[e("div",se,[e("div",le,[oe,e("div",ae,[e("p",ne,d(`${i.value.user.firstName}`),1),e("div",ce,[e("div",ie,[e("p",re,[de,e("span",ue,d(i.value.pointsCount),1)])])])])]),e("div",_e,[e("video",{class:"h-[30rem]",autoplay:"",loop:"",poster:u(c)+i.value.photoUrl,controls:"",src:u(c)+i.value.url},null,8,fe)])]),e("div",he,[(h(!0),m(F,null,M(_.value,n=>(h(),m("div",{class:"rounded-lg shadow-xl",key:n.id},[e("div",ve,[me,e("div",pe,[e("p",xe,d(`${n.user.firstName}`),1),e("div",ge,[e("div",be,[e("p",we,[ye,e("span",Ce,d(` ${n.user.pointCount}`),1)])])])])]),e("div",ke,[e("video",{class:"h-[26rem]",loop:"",poster:u(c)+n.photoUrl,controls:"",src:u(c)+n.url},null,8,$e)])]))),128))])])]),_:1})]),_:1})])])):P("",!0),s(S,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=n=>f.value=n),timeout:3e3,color:"blue"},{actions:t(()=>[s(N,{color:"white",variant:"text",onClick:a[0]||(a[0]=n=>f.value=!1)},{default:t(()=>[b(" Close ")]),_:1})]),default:t(()=>[Ne]),_:1},8,["modelValue"])]),_:1})}}};export{Pe as default};
